<mat-card>
    <mat-card-content *ngIf="isSpinnerVisible">
        <div class="bg-opacity" *ngIf="isSpinnerVisible">
            <div class="parent">
                <div class="spin1"></div>
            </div>
        </div>
    </mat-card-content>
    <mat-card-content *ngIf="!isSpinnerVisible">
        <div fxLayout="row wrap" class="text-right m-t-20 m-b-10">
            <div fxFlex.gt-md="100" class="align-items-center" fxFlex.gt-lg="100" fxFlex="100">
                <mat-card-actions>
                    <a class="m-r-10" *ngIf="!disable && (rolePublisher || roleNetwork)">
                        <button mat-stroked-button color="" (click)="approval()"
                            class="m-r-10 bg-danger text-white">Approve</button>
                    </a>

                    <a class="m-r-10" *ngIf="disable && (rolePublisher || roleNetwork)">
                        <button mat-stroked-button (click)="downloadInvoice()" color=""
                            class="m-r-10 bg-danger text-white">Download</button>
                    </a>

                    <a class="m-r-10" routerLink='/invoice-list'>
                        <button mat-stroked-button color="" class="m-r-10 bg-danger text-white">Back to
                            Payments</button>
                    </a>
                </mat-card-actions>
            </div>
        </div>

        <div fxLayout="row wrap" class="text-center m-b-15">
            <div fxFlex.gt-md="100" class="align-items-center m-b-15" fxFlex.gt-lg="100" fxFlex="100">
                <h3 class="m-0">Payment Advice </h3>
            </div>
        </div>
        <hr />
        <div fxLayout="row wrap" class="align-items-center m-t-15 m-b-15 ">
            <div fxFlex.gt-md="75" fxFlex.gt-lg="75" fxFlex="100" *ngIf="gst_flag">
                <h4 class="m-b-10 font-medium">From,</h4>
                <h6 class="m-t-0 m-b-5">{{accountHolderName}}</h6>
                <h6 class="m-t-0 m-b-5">{{gstaddress}}<br>
                    {{gstcity}}, {{gststate}} {{gstpostal}}</h6>
                <h6 class="m-t-0 m-b-5">GSTIN : {{gstnumber}}</h6>
                <h6 *ngIf="countryIndia" class="m-t-0 m-b-5">PAN Number : {{pannumber}}</h6>
                <h6 *ngIf="chkInvDateforEar" class="m-t-0 m-b-5">Email : {{publisherEmail}}</h6>
            </div>
            <div fxFlex.gt-md="75" fxFlex.gt-lg="75" fxFlex="100" *ngIf="!gst_flag">
                <h4 class="m-b-10 font-medium">From,</h4>
                <h6 class="m-t-0 m-b-5">{{accountHolderName}}</h6>
                <h6 class="m-t-0 m-b-5">{{accountHolderAddress}}<br>
                    {{city}}, {{state}} {{postal_code}}</h6>
                <h6 *ngIf="countryIndia" class="m-t-0 m-b-5">GSTIN : {{gstnumber}}</h6>
                <h6 *ngIf="countrySingapore" class="m-t-0 m-b-5">GST : {{gstnumber}}</h6>
                <h6 *ngIf="countryIndia" class="m-t-0 m-b-5">PAN Number : {{pannumber}}</h6>
                <h6 *ngIf="chkInvDateforEar" class="m-t-0 m-b-5">Email : {{publisherEmail}}</h6>
            </div>

            <div fxFlex.gt-md="25" fxFlex.gt-lg="25" fxFlex="100" class="text-righthh" *ngIf="invoiceTypeIndia && !chkInvDateforEar">
                <h4 class="m-b-10 font-medium">To,</h4>
                <h6 class="m-t-0 m-b-5"> Cyber Media Research & Services Limited </h6>
                <h6 class="m-t-0 m-b-5"> D-74, Panchsheel Enclave, </h6>
                <h6 class="m-t-0 m-b-5"> New Delhi -110017, India </h6>
                <h6 class="m-t-0 m-b-5"> Tel: +91 124 482 2222 </h6>
                <h6 class="m-t-0 m-b-5"> http://www.cybermediaservices.net </h6>
                <h6 class="m-t-0 m-b-5"> GSTIN : 07AAACI2770A1Z3 </h6>
            </div>
            <div fxFlex.gt-md="25" fxFlex.gt-lg="25" fxFlex="100" class="text-righthh" *ngIf="!invoiceTypeIndia && !chkInvDateforEar">
                <h4 class="m-b-10 font-medium">To,</h4>
                <h6 class="m-t-0 m-b-5"> Cyber Media Services Pte Limited </h6>
                <h6 class="m-t-0 m-b-5"> 1 North Bridge Road, #07-10 </h6>
                <h6 class="m-t-0 m-b-5"> High Street Center </h6>
                <h6 class="m-t-0 m-b-5"> Singapore - 179094 </h6>
                <h6 *ngIf="countrySingapore" class="m-t-0 m-b-5"> GST : 201725642G </h6>
            </div>
            <div fxFlex.gt-md="25" fxFlex.gt-lg="25" fxFlex="100" class="text-righthh" *ngIf="chkInvDateforEar">
                <h4 class="m-b-10 font-medium">To,</h4>
                <h6 class="m-t-0 m-b-5"> Cyber Media Services Pte Limited </h6>
                <h6 class="m-t-0 m-b-5"> 1 North Bridge Road, #07-10 </h6>
                <h6 class="m-t-0 m-b-5"> High Street Center </h6>
                <h6 class="m-t-0 m-b-5"> Singapore - 179094 </h6>
                <h6 *ngIf="countrySingapore" class="m-t-0 m-b-5"> GST : 201725642G </h6>
            </div>
        </div>

        <hr />

        <div fxLayout="row wrap" class="align-items-center m-t-15 m-b-10">
            <div fxFlex.gt-md="75">
                <span class="font-medium">Invoice Date:</span>
                <h6 class="m-t-5 m-b-0">{{invoice_date}}</h6>
            </div>

            <div fxFlex.gt-md="25" fxFlex.gt-lg="25" fxFlex="100">
                <span class="font-medium">Revenue Month:</span>
                <h6 class="m-t-5 m-b-0">{{month}}</h6>
            </div>
        </div>

        <ng-container *ngIf="invoiceTypeIndia && !chkInvDateforEar">
            <div fxLayout="row wrap">
                <div fxFlex="100">
                    <div class="table-responsive">
                        <table class="no-wrap m-t-10 m-b-10 v-middle" width="100%">
                            <thead>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> Description </th>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> USD </th>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> Conv. Rate </th>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> INR </th>
                            </thead>
                            <tbody>
                                <ng-container>
                                    <tr>
                                        <td class="p-15 font-normal fontfamily"> Auxo Ads Network Earnings For {{month}}
                                        </td>
                                        <td class="p-15 font-normal fontfamily text-right">$ {{can | number:'1.2-2'}}
                                        </td>
                                        <td class="p-15 font-normal fontfamily text-right">Rs. {{conv_rate |
                                            number:'1.2-2'}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">Rs. {{(can*conv_rate) |
                                            number:'1.2-2'}}</td>
                                    </tr>
                                    <tr *ngIf="cap > 0">
                                        <td class="p-15 font-normal fontfamily"> CyberAds Pro Earnings For {{month}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">$ {{cap | number:'1.2-2'}}
                                        </td>
                                        <td class="p-15 font-normal fontfamily text-right">Rs. {{conv_rate |
                                            number:'1.2-2'}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">Rs. {{(cap*conv_rate) |
                                            number:'1.2-2'}}</td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="p-15 font-normal fontfamily"> Invalid Traffic Deduction For {{month}}
                                        </td>
                                        <td class="p-15 font-normal fontfamily text-right">$ {{invalid_rev |
                                            number:'1.2-2'}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">Rs. {{conv_rate |
                                            number:'1.2-2'}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">(-) Rs.
                                            {{(invalid_rev*conv_rate)
                                            | number:'1.2-2'}}</td>
                                    </tr>

                                    <tr>
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right">
                                            Sub total : Rs. {{((final_rev*conv_rate)-(invalid_rev*conv_rate)) | number:'1.2-2'}}</td>
                                    </tr>

                                    <tr *ngIf="!delhi_state && gst_flag">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right">
                                            IGST @ 18% : Rs. {{(((final_rev*conv_rate)-(invalid_rev*conv_rate))*0.18) | number:'1.2-2'}}</td>
                                    </tr>

                                    <tr *ngIf="delhi_state && gst_flag">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right">
                                            CGST @ 9% : Rs. {{(((final_rev*conv_rate)-(invalid_rev*conv_rate))*0.09) | number:'1.2-2'}}</td>
                                    </tr>

                                    <tr *ngIf="delhi_state && gst_flag">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right">
                                            SGST @ 9% : Rs. {{(((final_rev*conv_rate)-(invalid_rev*conv_rate))*0.09) | number:'1.2-2'}}</td>
                                    </tr>

                                    <tr *ngIf="gst_flag">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right font-20">
                                            Grand Total : Rs.
                                            {{((final_rev*conv_rate)-(invalid_rev*conv_rate)+(((final_rev*conv_rate)-(invalid_rev*conv_rate))*0.18))
                                            | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr *ngIf="!gst_flag">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right font-20">
                                            Grand Total : Rs.
                                            {{((final_rev*conv_rate)-(invalid_rev*conv_rate)) | number:'1.2-2'}}</td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
        </ng-container>

        <ng-container *ngIf="!invoiceTypeIndia && !chkInvDateforEar">
            <div fxLayout="row wrap">
                <div fxFlex="100">
                    <div class="table-responsive">
                        <table class="no-wrap m-t-10 m-b-10 v-middle" width="100%">
                            <thead>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> Description </th>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> Qty </th>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> Rate </th>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> Amount (US$) </th>
                            </thead>
                            <tbody>
                                <ng-container>
                                    <tr>
                                        <td class="p-15 font-normal fontfamily"> Auxo Ads Network Earnings For {{month}}
                                        </td>
                                        <td class="p-15 font-normal fontfamily text-right">1</td>
                                        <td class="p-15 font-normal fontfamily text-right">{{can | number:'1.2-2'}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">{{can | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr *ngIf="cap > 0">
                                        <td class="p-15 font-normal fontfamily"> CyberAds Pro Earnings For {{month}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">1</td>
                                        <td class="p-15 font-normal fontfamily text-right">{{cap | number:'1.2-2'}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">{{cap | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr>
                                        <td class="p-15 font-normal fontfamily"> Invalid Traffic Deduction For {{month}}
                                        </td>
                                        <td class="p-15 font-normal fontfamily text-right">1</td>
                                        <td class="p-15 font-normal fontfamily text-right">(-) {{invalid_rev |
                                            number:'1.2-2'}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">(-) {{invalid_rev |
                                            number:'1.2-2'}}</td>
                                    </tr>

                                    <tr>
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right">
                                            Sub total : {{((final_rev)-(invalid_rev)) | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr *ngIf="countrySingapore">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right">
                                            GST @ 0% : {{(((final_rev)-(invalid_rev))*0) | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr *ngIf="countrySingapore">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right font-20">
                                            Grand Total : 
                                            {{((final_rev)-(invalid_rev)+(((final_rev)-(invalid_rev))*0))
                                            | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr *ngIf="!countrySingapore">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right font-20">
                                            Grand Total : {{((final_rev)-(invalid_rev)) | number:'1.2-2'}}</td>
                                    </tr>
                                    
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
        </ng-container>
        <ng-container *ngIf="chkInvDateforEar">
            <div fxLayout="row wrap">
                <div fxFlex="100">
                    <div class="table-responsive">
                        <table class="no-wrap m-t-10 m-b-10 v-middle" width="100%">
                            <thead>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> Description </th>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> Qty </th>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> Rate </th>
                                <th class="font-medium font-16 p-15 text-left color fontfamilyth"> Amount (US$) </th>
                            </thead>
                            <tbody>
                                <ng-container>
                                    <tr>
                                        <td class="p-15 font-normal fontfamily"> Auxo Ads Network Earnings For {{month}}
                                        </td>
                                        <td class="p-15 font-normal fontfamily text-right">1</td>
                                        <td class="p-15 font-normal fontfamily text-right">{{can | number:'1.2-2'}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">{{can | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr *ngIf="cap > 0">
                                        <td class="p-15 font-normal fontfamily"> CyberAds Pro Earnings For {{month}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">1</td>
                                        <td class="p-15 font-normal fontfamily text-right">{{cap | number:'1.2-2'}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">{{cap | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr>
                                        <td class="p-15 font-normal fontfamily"> Invalid Traffic Deduction For {{month}}
                                        </td>
                                        <td class="p-15 font-normal fontfamily text-right">1</td>
                                        <td class="p-15 font-normal fontfamily text-right">(-) {{invalid_rev |
                                            number:'1.2-2'}}</td>
                                        <td class="p-15 font-normal fontfamily text-right">(-) {{invalid_rev |
                                            number:'1.2-2'}}</td>
                                    </tr>

                                    <tr>
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right">
                                            Sub total : {{((final_rev)-(invalid_rev)) | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr *ngIf="countrySingapore">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right">
                                            GST @ 0% : {{(((final_rev)-(invalid_rev))*0) | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr *ngIf="countrySingapore">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right font-20">
                                            Grand Total : 
                                            {{((final_rev)-(invalid_rev)+(((final_rev)-(invalid_rev))*0))
                                            | number:'1.2-2'}}</td>
                                    </tr>
                                    <tr *ngIf="!countrySingapore">
                                        <td colspan="4" class="p-15 font-normal fontfamily text-right font-20">
                                            Grand Total : {{((final_rev)-(invalid_rev)) | number:'1.2-2'}}</td>
                                    </tr>
                                    
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            
        </ng-container>

        <!-- <hr /> -->
        <div fxLayout="row wrap" class="align-items-center m-b-20" style="margin-top: -14px;">
            <div fxFlex.gt-md="100" fxFlex.gt-lg="100" fxFlex="100">
                <h4 class="m-b-10 font-medium">For {{accountHolderName}}</h4>
                <h6 class="m-t-0 m-b-5">Please Remit the proceeds: By A/C payee cheque/dd in the name of
                    {{accountHolderName}}</h6>
                    <div class="stamp is-paid laptopstamp" style="float: right;" *ngIf="stamp">Paid</div>
                <br>
                <h6 class="m-t-0 m-b-5">Bank Details:</h6>
                <h6 class="m-t-0 m-b-5">Bank Name: {{bankName}}</h6>
                <h6 class="m-t-0 m-b-5">Bank Account #: {{accountNumber}}</h6>
                <h6 class="m-t-0 m-b-5">Bank A/C Type #: {{accountType}}</h6>
                <h6 *ngIf="countryIndia && !chkInvDateforEar" class="m-t-0 m-b-5">IFSC/RTGS/NEFT Code: {{ifsc}}</h6>
                <h6 *ngIf="countryIndia && chkInvDateforEar" class="m-t-0 m-b-5">SWIFT Code: {{swift_code}}</h6>
                <h6 *ngIf="!countryIndia" class="m-t-0 m-b-5">SWIFT Code: {{swift_code}}</h6>
                <h6 class="m-t-0 m-b-5">Branch Address: {{bank_address}} {{bank_city}} {{bank_state}} {{bank_postal}}
                </h6>
            </div>
        </div>

        <hr>
        <div fxLayout="row wrap" class="text-right m-t-20 m-b-10">
            <div fxFlex.gt-md="100" class="align-items-center" fxFlex.gt-lg="100" fxFlex="100">
                <mat-card-actions>
                    <a class="m-r-10" *ngIf="!disable && (rolePublisher || roleNetwork)">
                        <button mat-stroked-button color="" (click)="approval()"
                            class="m-r-10 bg-danger text-white">Approve</button>
                    </a>

                    <a class="m-r-10" *ngIf="disable && (rolePublisher || roleNetwork)">
                        <button mat-stroked-button (click)="downloadInvoice()" color=""
                            class="m-r-10 bg-danger text-white">Download</button>
                    </a>

                    <a class="m-r-10" routerLink='/invoice-list'>
                        <button mat-stroked-button color="" class="m-r-10 bg-danger text-white">Back to
                            Payments</button>
                    </a>
                </mat-card-actions>
            </div>
        </div>

    </mat-card-content>
</mat-card>

